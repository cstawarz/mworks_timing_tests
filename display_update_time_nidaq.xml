<?xml version="1.0" standalone="no"?>
<monkeyml version="1.0">
    <io_devices tag="IO Devices">
        <iodevice type="stimulus_display" tag="Stimulus Display" background_color="0, 0, 0"></iodevice>
        <iodevice type="nidaq" tag="nidaq" name="Dev1" update_interval="1.5ms" analog_input_data_interval="1.5ms" analog_output_data_interval="1ms" assume_multiplexed_adc="YES">
            <iochannel type="nidaq_analog_input_voltage" tag="ai0" channel_number="0" range_min="-10.0" range_max="10.0" voltage="photodiode_signal"></iochannel>
            <iochannel type="nidaq_counter_input_count_edges" tag="ctr1" counter_number="1" count="vsync_signal"></iochannel>
        </iodevice>
    </io_devices>
    <variables tag="Variables">
        <variable tag="photodiode_signal" scope="global" logging="when_changed" default_value="0" type="float"></variable>
        <variable tag="vsync_signal" scope="global" logging="when_changed" default_value="0" type="integer"></variable>
        <variable tag="start" scope="global" logging="when_changed" default_value="0" type="integer"></variable>
        <variable tag="stop" scope="global" logging="when_changed" default_value="0" type="integer"></variable>
    </variables>
    <sounds tag="Sounds"></sounds>
    <stimuli tag="Stimuli">
        <stimulus type="frame_list" tag="frame_list" stimulus_group="frames" ended="" loop="1" autoplay="0"></stimulus>
        <stimulus_group tag="frames">
            <stimulus type="blank_screen" tag="white_screen" color="1,1,1"></stimulus>
            <stimulus type="blank_screen" tag="black_screen" color="0,0,0"></stimulus>
        </stimulus_group>
    </stimuli>
    <filters tag="Filters"></filters>
    <optimizers tag="Optimizers"></optimizers>
    <experiment tag="New Experiment" full_name="" description="">
        <protocol tag="New Protocol" nsamples="1" sampling_method="cycles" selection="sequential" interruptible="YES">
            <action tag="Queue Stimulus" type="queue_stimulus" stimulus="frame_list"></action>
            <action tag="Update Stimulus Display" type="update_stimulus_display"></action>
            <action tag="Start IO Device" type="start_device_IO" device="nidaq"></action>
            <action type="wait" tag="Wait 3" duration="1.0" duration_units="s"></action>
            <action type="assignment" tag="Start collecting events" variable="start" value="!start"></action>
            <action type="wait" tag="Wait 2" duration="50" duration_units="ms"></action>
            <action tag="Play dynamic stimulus" type="play_dynamic_stimulus" stimulus="frame_list"></action>
            <action type="wait" tag="Wait" duration="300" duration_units="ms"></action>
            <action tag="Stop dynamic stimulus" type="stop_dynamic_stimulus" stimulus="frame_list"></action>
            <action tag="Update Stimulus Display 2" type="update_stimulus_display"></action>
            <action type="wait" tag="Wait 4" duration="100" duration_units="ms"></action>
            <action type="assignment" tag="Stop collecting events" variable="stop" value="!stop"></action>
            <action tag="Stop IO Device" type="stop_device_IO" device="nidaq"></action>
        </protocol>
    </experiment>
</monkeyml>